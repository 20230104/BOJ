#16986 [인싸들의 가위바위보](https://www.acmicpc.net/problem/16986)  

***  
게임 규칙에 따라 자신의 턴이 되었을 때 낼 수 있는 것을 차례대로 내며 백트래킹 방식을 이용해도 답을 낼 수 있을 것이다.  
이때 자명하게 우승을 할 수 없는 경우  
1.예를 들어 손동작 수보다 우승에 필요한 승리 수가 많다.  
2.이미 경희나 민호가 우승에 필요한 승리 수를 달성했다.  
적당한 가지치기를 한다면 O(n!)보다 빠르게 답이 나올 것이다.  
***
좀더 빠르게 답을 찾기 위해 지우의 전적으로부터 역추적을 하였다.  
가령 우승을 위해 3승이 필요하다고 가정하면  
지우가 승승승 으로 우승을 하는 것 부터  
패패패패승승승(사실 패패패패에서 지우는 4경기에 참여하여 경희나 민호에게 2승씩은 적어도 주었을 것이고, 경희와 민호가 직접적으로 경기하는 경우도 존재하므로 이미 우승자가 결정되었을 것이다.)인 경우까지 고려하고 이렇게 지우가 자기차례에 이겨야하는지 져야하는지부터 결정하면 지우의 우승여부와 지우가 상대하는 사람(이때 상대가 경희인지 민호인지조차 중요하지 않다!)이 무엇을 낼지 획일화 할 수 있다.  
이때 승패 여부는 arr, 상대가 낼 손동작은 build이다.  
우승이 확실하면 몇 가지 불가능한 경우(어떤 손동작을 상대가 4번 내고 이를 모두 이겨야 하는데 이 손동작을 이길 수 있는 손동작이 4개 미만인 경우 등)를 스킵하고  
DFS를 통해 마지막으로 계산하면 된다.  
즉, DFS를 최대한 적은 횟수로 그리고 짧게 사용하기 위해 위와 같은 과정을 거치며 최대한 경우의 수를 줄인 것이다.
